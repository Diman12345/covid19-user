!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{TUkU:function(i,n,o){"use strict";o.r(n),o.d(n,"Tab2PageModule",(function(){return O}));var a=o("TEn/"),r=o("ofXK"),c=o("3Pt+"),l=o("qtYk"),s=o("tyNb"),u=o("mrSG"),f=o("fXoL"),d=o("tAfe"),b=o("/sJY"),h=o("B7Vy"),m=o("9YJ4"),p=o("RU0F"),v=o("U3FU");function y(e,t){1&e&&f.Jb(0,"ion-icon",12)}function g(e,t){1&e&&f.Jb(0,"ion-icon",13)}function k(e,t){1&e&&f.Jb(0,"ion-icon",14)}function L(e,t){if(1&e){var i=f.Mb();f.Lb(0,"ion-item-sliding"),f.Lb(1,"ion-item",4),f.Tb("click",(function(){f.ac(i);var e=t.$implicit;return f.Vb().openFile(e)})),f.dc(2,y,1,0,"ion-icon",5),f.dc(3,g,1,0,"ion-icon",6),f.dc(4,k,1,0,"ion-icon",7),f.Lb(5,"ion-label",8),f.ec(6),f.Lb(7,"p"),f.ec(8),f.Kb(),f.Kb(),f.Kb(),f.Lb(9,"ion-item-options",9),f.Lb(10,"ion-item-option",10),f.Tb("click",(function(){f.ac(i);var e=t.$implicit;return f.Vb().deleteFile(e)})),f.Jb(11,"ion-icon",11),f.Kb(),f.Kb(),f.Kb()}if(2&e){var n=t.$implicit;f.yb(2),f.Yb("ngIf",n.name.endsWith("jpg")),f.yb(1),f.Yb("ngIf",n.name.endsWith("MOV")||n.name.endsWith("mp4")),f.yb(1),f.Yb("ngIf",n.name.endsWith("wav")),f.yb(2),f.gc(" ",n.name," "),f.yb(2),f.fc(n.fullPath)}}var I,w,F,x=[{path:"",component:(I=function(){function i(t,n,o,a,r,c,l,s){e(this,i),this.imagePicker=t,this.mediaCapture=n,this.file=o,this.media=a,this.streamingMedia=r,this.photoViewer=c,this.actionSheetController=l,this.plt=s,this.files=[]}var n,o,a;return n=i,(o=[{key:"ngOnInit",value:function(){var e=this;this.plt.ready().then((function(){var t=e.file.dataDirectory;e.file.checkDir(t,"my_media").then((function(){e.loadFiles()}),(function(i){e.file.createDir(t,"my_media",!1)}))}))}},{key:"loadFiles",value:function(){var e=this;this.file.listDir(this.file.dataDirectory,"my_media").then((function(t){e.files=t}),(function(e){return console.log("error loading files: ",e)}))}},{key:"selectMedia",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actionSheetController.create({header:"What would you like to add?",buttons:[{text:"Capture Image",handler:function(){i.captureImage()}},{text:"Record Video",handler:function(){i.recordVideo()}},{text:"Record Audio",handler:function(){i.recordAudio()}},{text:"Load multiple",handler:function(){i.pickImages()}},{text:"Cancel",role:"cancel"}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"pickImages",value:function(){var e=this;this.imagePicker.getPictures({}).then((function(t){for(var i=0;i<t.length;i++)e.copyFileToLocalDir(t[i])}))}},{key:"captureImage",value:function(){var e=this;this.mediaCapture.captureImage().then((function(t){t.length>0&&e.copyFileToLocalDir(t[0].fullPath)}),(function(e){return console.error(e)}))}},{key:"recordAudio",value:function(){var e=this;this.mediaCapture.captureAudio().then((function(t){t.length>0&&e.copyFileToLocalDir(t[0].fullPath)}),(function(e){return console.error(e)}))}},{key:"recordVideo",value:function(){var e=this;this.mediaCapture.captureVideo().then((function(t){t.length>0&&e.copyFileToLocalDir(t[0].fullPath)}),(function(e){return console.error(e)}))}},{key:"copyFileToLocalDir",value:function(e){var t=this,i=e;e.indexOf("file://")<0&&(i="file://"+e);var n=i.split(".").pop(),o="".concat(Date.now(),".").concat(n),a=i.substr(i.lastIndexOf("/")+1),r=i.substr(0,i.lastIndexOf("/")+1);this.file.copyFile(r,a,this.file.dataDirectory+"my_media",o).then((function(e){t.loadFiles()}),(function(e){console.log("error: ",e)}))}},{key:"openFile",value:function(e){if(e.name.indexOf(".wav")>-1){var t=e.nativeURL.replace(/^file:\/\//,"");this.media.create(t).play()}else e.name.indexOf(".MOV")>-1||e.name.indexOf(".mp4")>-1?this.streamingMedia.playVideo(e.nativeURL):e.name.indexOf(".jpg")>-1&&this.photoViewer.show(e.nativeURL,"MY awesome image")}},{key:"deleteFile",value:function(e){var t=this,i=e.nativeURL.substr(0,e.nativeURL.lastIndexOf("/")+1);this.file.removeFile(i,e.name).then((function(){t.loadFiles()}),(function(e){return console.log("error remove: ",e)}))}}])&&t(n.prototype,o),a&&t(n,a),i}(),I.\u0275fac=function(e){return new(e||I)(f.Ib(d.a),f.Ib(b.a),f.Ib(h.a),f.Ib(m.a),f.Ib(p.a),f.Ib(v.a),f.Ib(a.a),f.Ib(a.D))},I.\u0275cmp=f.Cb({type:I,selectors:[["app-tag2"]],decls:12,vars:1,consts:[["color","primary"],[4,"ngFor","ngForOf"],["fill","clear","expand","full","color","light",3,"click"],["slot","start","name","document"],[3,"click"],["name","image","slot","start",4,"ngIf"],["name","videocam","slot","start",4,"ngIf"],["name","mic","slot","start",4,"ngIf"],[1,"ion-text-wrap"],["side","start"],["color","danger",3,"click"],["name","trash","slot","icon-only"],["name","image","slot","start"],["name","videocam","slot","start"],["name","mic","slot","start"]],template:function(e,t){1&e&&(f.Lb(0,"ion-header"),f.Lb(1,"ion-toolbar",0),f.Lb(2,"ion-title"),f.ec(3," Ionic Media Capture "),f.Kb(),f.Kb(),f.Kb(),f.Lb(4,"ion-content"),f.Lb(5,"ion-list"),f.dc(6,L,12,5,"ion-item-sliding",1),f.Kb(),f.Kb(),f.Lb(7,"ion-footer"),f.Lb(8,"ion-toolbar",0),f.Lb(9,"ion-button",2),f.Tb("click",(function(){return t.selectMedia()})),f.Jb(10,"ion-icon",3),f.ec(11," Select Media "),f.Kb(),f.Kb(),f.Kb()),2&e&&(f.yb(6),f.Yb("ngForOf",t.files))},directives:[a.g,a.z,a.y,a.e,a.o,r.h,a.f,a.c,a.h,a.m,a.j,r.i,a.n,a.l,a.k],styles:[""]}),I)}],K=((F=function t(){e(this,t)}).\u0275mod=f.Gb({type:F}),F.\u0275inj=f.Fb({factory:function(e){return new(e||F)},imports:[[s.i.forChild(x)],s.i]}),F),O=((w=function t(){e(this,t)}).\u0275mod=f.Gb({type:w}),w.\u0275inj=f.Fb({factory:function(e){return new(e||w)},imports:[[a.A,r.b,c.a,l.a,K]]}),w)}}])}();